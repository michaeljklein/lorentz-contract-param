# Example contract which calls our "counter" contract via feather.
# It adds current counter value to the number in its storage.

parameter
 ( Nat   %add
 | Unit  %record
 );
storage (Nat, Address %feather);
code { unpair; case
        { dip {unpair}; add; pair; nil Operation; pair }
        { drop; dup; cdr;
          contract (Unit, (Option Nat)); assert_some;
          none Nat; unit; pair;
          dip {amount}; transfer_tokens;
          nil Operation; swap; cons; pair;
        };
    };
