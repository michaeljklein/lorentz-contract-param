#
# © 2019 Tocqueville Group
# © 2018 Dynamic Ledger Solutions, Inc. <contact@tezos.com>
#        (original license: LicenseRef-MIT-DynamicLedgerSolutions)
#
# SPDX-License-Identifier: AGPL-3.0-or-later
#

parameter string;
storage (map address (option string));

code { UNPAIR @message @guestbook; SWAP;
       DUP; SENDER; GET @previous_message;
       ASSERT_SOME;
       ASSERT_NONE;
       SWAP; SOME; SOME; SENDER; UPDATE;
       NIL operation;
       PAIR }
